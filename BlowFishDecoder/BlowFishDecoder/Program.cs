using System.Text.RegularExpressions;
using BlowFishDecoder;
using CommandLine;
using CompuTop.Core.Crypto;


double tt  = Math.Sqrt(long.MaxValue);

        string input = "   <br/> <br/>  test  <br/>  adlsfjalsdjf <br/>  <br/> ";
input = Regex.Replace(input, @"^(\s*<br/>\s*)*", string.Empty);
input = Regex.Replace(input, @"(\s*<br/>\s*)*$", string.Empty);

string key ="C!d43Y]je7Z=[a9X";

string data = "61FB85E4A1148896454ECD13F02906DF30077DFFCA0E5EF131063A1536DE098AD7AC43312DFA901AB285F826E1EA5EF40145D13BD4D207DA5888E9052B65CCDCDBD0DD1A478B454666596682ED5D44BD57D52E3EA70CAA18C68B20B774233146C5D0A604CB9EFA9AE975362F52A38BEA66D85D163FD9B1155168E526FE5BC7909CCAB7332B64711A8F39434267FD80ADF3729E4A906C2588EDE8391252612D1C3CF1D3248F16576D85CE2FF101FC3235B4548030CD3F0A938747E7307AFCD2BADBE48874C8E8A9226AC854C4E21FD5270527939A25A2E8B08B41FD80D7AC2E3E6ADDF2598454E06761738431C75BEE4C485C9BFE2B4AB19B830225437A9E8A27BD6FBA3365C454A2BFF9299909C002474F20103D433D8856A5DC1F3D32A33283BAA30FD73299136E53E825170391F272BA3AD526EE8CB64427E874ABA5ADDDC7452E1B5D51B862662FD8C1854028FCED4F55451F003050CE599D4D21E2AE999172ED561DECDDD8C92743F88CD82E4F0F5590A4A4902371C254441025A4B70568466F94422E5BAB6CAA74EA9BF7E1842F720DE64FB30ECE840CF288F37783BD6FE9C21F8C1BFC588F";

int len = 417;

           string text = new BlowFish(key, new HexCoding()).DecryptECB(data, len);
int ttt = 0;

Parser.Default
      .ParseArguments<Options>(args)
      .WithParsed(o =>
       {
           string text = new BlowFish(o.Key, new HexCoding()).DecryptECB(o.Data, o.Len);
           if (text.Length != o.Len)
           {
               Console.WriteLine($"[WARN]: decoded length {text.Length}");
           }

           Console.WriteLine(text);
       });